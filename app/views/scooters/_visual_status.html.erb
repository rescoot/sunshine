<div class="card" id="scooter_<%= scooter.id %>_visual">
  <!-- Scooter Visual Status -->
  <div class="card-header">
    <h3 class="text-base font-semibold leading-6 text-gray-900">
      Status
    </h3>
  </div>
  <div class="card-body">
    <div class="relative">
      <!-- Base scooter image -->
      <%= image_tag scooter.scooter_image_path('side'), class: "w-1/3", alt: "Scooter" %>

      <!-- Overlay images based on state -->
      <% if scooter.online? %>
        <%= image_tag scooter.scooter_image_path('base'), class: "w-1/3", alt: "Scooter" %>
        
        <% if scooter.blinkers == 'left' || scooter.blinkers == 'both' %>
          <%= image_tag "scooter/blinker_l.webp", class: "absolute top-0 left-0 w-1/3 animate-blink", style: "mix-blend-mode: screen;" %>
        <% end %>
        
        <% if scooter.blinkers == 'right' || scooter.blinkers == 'both' %>
          <%= image_tag "scooter/blinker_r.webp", class: "absolute top-0 left-0 w-1/3 animate-blink", style: "mix-blend-mode: screen;" %>
        <% end %>
        
        <!-- Light ring for unlocked state -->
        <% if scooter.unlocked? %>
          <%= image_tag "scooter/light_ring.webp", class: "absolute top-0 left-0 w-1/3 animate-glow", style: "mix-blend-mode: screen;" %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
